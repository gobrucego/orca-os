---
description: "Clone a website’s UI into an OS 2.2 project using SAME.dev-style web analysis and structured specs"
argument-hint: "<url> [clone_mode]"
allowed-tools: ["Task", "Read", "Write", "Edit", "Bash", "AskUserQuestion", "WebFetch", "mcp__project-context__query_context", "mcp__project-context__save_decision"]
---

# /clone-website – SAME.dev‑style Website Cloner (Spec‑First)

**Goal:** Use SAME.dev's cloning playbook (via web analysis) to produce a high‑fidelity UI/structure spec for a target site, then hand off to OS 2.2 unified `/orca` pipeline for implementation. This command focuses on **spec and structure**, not blindly autogenerated code.

---

## 1. Inputs & Modes

**Request:** `$ARGUMENTS`

Interpret as:
- Primary: `url` – required (the site to study/clone).
- Optional: `clone_mode` – one of:
  - `"exact"` – 1:1 UI/structure (within legal/ethical bounds).
  - `"similar"` – keep patterns, adjust brand tokens.
  - `"inspired"` – use as inspiration, new design.
  - `"structure"` – IA/layout only, new visuals.

If only a URL is provided (no mode), ask via `AskUserQuestion`:
- Whether they want to “clone” the UI and at what level (`exact/similar/inspired/structure`).
- Which **stack** they’re targeting (Nextjs/web vs Expo/mobile).

---

## 2. SAME.dev Safety & Clarification (MANDATORY)

Before any analysis:

1. **Safety checks (from SAME.dev spec):**
   - NEVER clone sites with ethical, legal, pornographic, or privacy concerns.
   - NEVER clone login/auth pages or flows that could be used for phishing.
   - If the target flow is behind auth, ask user to provide post-login screenshots instead.

2. **Scope clarification (inspired by SAME.dev):**
   - Confirm:
     - Which **pages** to cover (home only, marketing funnel, docs, etc.).
     - Which **sections** of long pages matter (hero, pricing, footer, etc.).
   - If user gives a single URL and no detail, explicitly ask:
     - “Which pages and sections should we treat as the clone target?”

Use `AskUserQuestion` for this Q&A and wait for confirmation before moving on.

---

## 3. Web Analysis (SAME.dev Web Scrape Pattern)

Use a web analysis tool in the SAME.dev style:
- Prefer a dedicated web‑scrape MCP (e.g. Firecrawl/web_scrape) if available.
- If none exist, fall back to `WebFetch` + manual HTML/DOM analysis.

When invoking tools:
- Say “I’ll visit {url}…” or “I’ll read {url}…”, **never** “I’ll scrape…”.
- Collect for each target page/section:
  - Screenshot or visual summary (if tools support it).
  - Title, meta description.
  - Main content blocks.
  - DOM hints (sections, layout, repeated patterns).

Run page fetches in parallel where possible (SAME.dev’s maximize‑parallel‑tools principle).

---

## 4. Structured Clone Spec (Design + Structure)

Synthesize a spec rather than raw code. Create a spec file under:

```text
.claude/orchestration/evidence/clone-website-<slug>.md
```

The spec SHOULD include:

1. **Information Architecture**
   - List of pages and their roles.
   - Primary navigation and footer structure.

2. **Layout & Components**
   - Layout grid / major sections per page.
   - Core components (hero, cards, CTA blocks, forms, nav, footer, etc.).
   - Reusable UI patterns.

3. **Design System Hints**
   - Colors, typography, spacing scales as inferred tokens (do not copy literal brand identity if user chooses `similar`/`inspired`/`structure`).
   - Interaction patterns (hover, scroll, modals).

4. **Clone Mode Translation**
   - For the chosen mode:
     - `exact` – how closely to mirror layout/components while respecting legal/ethical limits.
     - `similar` – which patterns to keep vs brand tokens to swap.
     - `inspired` – which structural ideas to keep, what to intentionally change.
     - `structure` – IA/layout only, leave brand tokens/content open.

5. **Target Stack Plan**
   - If **Nextjs**:
     - Map spec to pages/routes/components in the Nextjs lane (App Router structure, layouts, route groups).
   - If **Expo/mobile**:
     - Map spec to screens/routes/components in the Expo lane.

Summarize this spec back to the user and note the spec file path.

---

## 5. OS 2.2 Integration (Context & Memory)

After spec creation:

1. **ProjectContextServer:**
   - Call `mcp__project-context__query_context` with:
     - `domain`: `"nextjs"` or `"expo"` (per target stack).
     - `task`: description like “Clone website UI for {url} in {clone_mode} mode”.
     - `projectPath`: current repo root.
   - Use the ContextBundle to:
     - Understand existing components/pages.
     - Detect design system, past decisions, standards.

2. **Phase state:**
   - Initialize or update `.claude/orchestration/phase_state.json`:
     - `domain`: `"nextjs"` or `"expo"`.
     - `current_phase`: `"requirements_impact"` (for the relevant pipeline).
     - Attach the clone spec path under `artifacts`.

3. **Decision logging:**
   - Use `mcp__project-context__save_decision` to record:
     - The chosen clone mode.
     - Scope (pages/sections).
     - Target stack and any constraints.
     - Any design-dna or design-system assumptions inferred from the source site.

---

## 6. Handoff to /orca

Finally, present the user with a clear next step:

Suggest running:
```
/orca Implement clone of {url} ({clone_mode}) using spec at .claude/orchestration/evidence/clone-website-<slug>.md
```

The unified `/orca` command will:
- Auto-detect the pipeline (nextjs or expo) based on project structure
- Load the clone spec as requirements
- Trigger appropriate quality gates (design-dna, a11y, performance, verification)

Remind the user:
- This command creates a **structured spec and plan** from the target site.
- Actual implementation goes through the OS 2.2 unified `/orca` pipeline with quality gates, not as a one-off clone.
